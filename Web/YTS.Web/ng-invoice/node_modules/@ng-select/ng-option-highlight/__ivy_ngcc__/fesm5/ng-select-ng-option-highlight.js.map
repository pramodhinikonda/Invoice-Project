{"version":3,"file":"ng-select-ng-option-highlight.js","sources":["ng:/@ng-select/ng-option-highlight/lib/ng-option-highlight.directive.ts","ng:/@ng-select/ng-option-highlight/lib/ng-option-highlight.module.ts"],"names":[],"mappings":"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","sourcesContent":["import * as searchHelper from './search-helper';\nimport {\n    AfterViewInit,\n    Directive,\n    ElementRef,\n    Input,\n    OnChanges,\n    Renderer2\n} from '@angular/core';\n\n@Directive({\n    selector: '[ngOptionHighlight]'\n})\nexport class NgOptionHighlightDirective implements OnChanges, AfterViewInit {\n\n    @Input('ngOptionHighlight') term: string;\n\n    private element: HTMLElement;\n    private label: string;\n\n    constructor(\n        private elementRef: ElementRef,\n        private renderer: Renderer2) {\n        this.element = this.elementRef.nativeElement;\n    }\n\n    ngOnChanges() {\n        if (this._canHighlight) {\n            this._highlightLabel();\n        }\n    }\n\n    ngAfterViewInit() {\n        this.label = this.element.innerHTML;\n        if (this._canHighlight) {\n            this._highlightLabel();\n        }\n    }\n\n    private _escapeRegExp(str: string): string {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    }\n\n    private _highlightLabel() {\n        const label = this.label;\n        if (!this.term) {\n            this._setInnerHtml(label);\n            return;\n        }\n\n        const alternationString = this._escapeRegExp(this.term).replace(' ', '|');\n        const termRegex = new RegExp(alternationString, 'gi');\n        this._setInnerHtml(label.replace(termRegex, `<span class=\\\"highlighted\\\">$&</span>`))\n    }\n\n    private get _canHighlight() {\n        return this._isDefined(this.term) && this._isDefined(this.label);\n    }\n\n    private _setInnerHtml(html) {\n        this.renderer.setProperty(this.elementRef.nativeElement, 'innerHTML', html);\n    }\n\n    private _isDefined(value: any) {\n        return value !== undefined && value !== null;\n    }\n}   \n","import { NgModule } from '@angular/core';\nimport { NgOptionHighlightDirective } from './ng-option-highlight.directive';\n\n@NgModule({\n    declarations: [NgOptionHighlightDirective],\n    exports: [NgOptionHighlightDirective]\n})\nexport class NgOptionHighlightModule {}\n"]}