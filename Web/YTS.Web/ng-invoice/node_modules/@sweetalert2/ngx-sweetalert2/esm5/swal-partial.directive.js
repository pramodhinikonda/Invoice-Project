/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
import { ApplicationRef, ComponentFactoryResolver, Directive, Host, Injector, Input, TemplateRef } from '@angular/core';
import { SwalPartialTargets } from './swal-partial-targets';
import { SwalPartialComponent } from './swal-partial.component';
import { SwalComponent } from './swal.component';
/**
 * A structural directive that lets you use Angular templates inside of Sweet Alerts.
 * There are different targetable zones in a Sweet Alert: title, content, confirmButton, cancelButton, buttonsWrapper.
 * The default target is the content zone.
 *
 * Usage in your component's TypeScript code-behind (if you use another target than "content"):
 *
 * \@Component({ ... })
 *     export class MyComponent {
 *         public constructor(public readonly swalTargets: SwalPartialTargets) {
 *         }
 *     }
 *
 * Usage in the template:
 *
 *     <swal title="Fill the form" (confirm)="confirmHandler()">
 *         <!-- This form will be displayed as the alert main content
 *              Targets the alert's main content zone by default -->
 *         <form *swalPartial [formControl]="myForm">
 *             ...
 *         </form>
 *
 *         <!-- This targets the confirm button's inner content
 *              Notice the usage of ng-container to avoid creating an useless DOM element inside the button -->
 *         <ng-container *swalPartial="swalTargets.confirmButton">
 *              Send ({{ secondsLeft }} seconds left)
 *         </ng-container>
 *     <swal>
 */
var SwalPartialDirective = /** @class */ (function () {
    function SwalPartialDirective(resolver, injector, app, templateRef, swalTargets, swalComponent) {
        this.resolver = resolver;
        this.injector = injector;
        this.app = app;
        this.templateRef = templateRef;
        this.swalTargets = swalTargets;
        this.swalComponent = swalComponent;
    }
    /**
     * Subscribes to the the Sweet Alert appearance/disappearance to create/destroy the SwalPartialComponent that will
     * receive the consumer's template.
     */
    /**
     * Subscribes to the the Sweet Alert appearance/disappearance to create/destroy the SwalPartialComponent that will
     * receive the consumer's template.
     * @return {?}
     */
    SwalPartialDirective.prototype.ngOnInit = /**
     * Subscribes to the the Sweet Alert appearance/disappearance to create/destroy the SwalPartialComponent that will
     * receive the consumer's template.
     * @return {?}
     */
    function () {
        var _this = this;
        this.beforeOpenSubscription = this.swalComponent.beforeOpen.asObservable().subscribe(function () {
            //=> Create the SwalPartialComponent on the target DOM node in the Sweet Alert
            /** @type {?} */
            var targetEl = _this.swalPartial ? _this.swalPartial() : _this.swalTargets.content();
            /** @type {?} */
            var factory = _this.resolver.resolveComponentFactory(SwalPartialComponent);
            _this.partialRef = factory.create(_this.injector, [], targetEl);
            //=> Apply the consumer's template on the component
            _this.partialRef.instance.template = _this.templateRef;
            //=> Make the Angular app aware of that detached view so change detection works
            _this.app.attachView(_this.partialRef.hostView);
        });
        this.closeSubscription = this.swalComponent.close.asObservable().subscribe(function () {
            //=> Detach the partial component from the app and destroy it
            _this.app.detachView(_this.partialRef.hostView);
            _this.partialRef.destroy();
        });
    };
    /**
     * Unsubscribes from the Sweet Alert appearance/disappearance.
     */
    /**
     * Unsubscribes from the Sweet Alert appearance/disappearance.
     * @return {?}
     */
    SwalPartialDirective.prototype.ngOnDestroy = /**
     * Unsubscribes from the Sweet Alert appearance/disappearance.
     * @return {?}
     */
    function () {
        this.beforeOpenSubscription.unsubscribe();
        this.closeSubscription.unsubscribe();
    };
    SwalPartialDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[swalPartial]'
                },] }
    ];
    /** @nocollapse */
    SwalPartialDirective.ctorParameters = function () { return [
        { type: ComponentFactoryResolver },
        { type: Injector },
        { type: ApplicationRef },
        { type: TemplateRef },
        { type: SwalPartialTargets },
        { type: SwalComponent, decorators: [{ type: Host }] }
    ]; };
    SwalPartialDirective.propDecorators = {
        swalPartial: [{ type: Input }]
    };
    return SwalPartialDirective;
}());
export { SwalPartialDirective };
if (false) {
    /**
     * Takes a "partial target" or nothing (will target main content zone by default).
     *
     * See the {\@link SwalPartialTargets} service to see the available targets.
     * See the class doc block for more informations.
     * @type {?}
     */
    SwalPartialDirective.prototype.swalPartial;
    /**
     * Holds the component reference of the controlled SwalPartialComponent to destroy it when no longer needed.
     * @type {?}
     */
    SwalPartialDirective.prototype.partialRef;
    /** @type {?} */
    SwalPartialDirective.prototype.beforeOpenSubscription;
    /** @type {?} */
    SwalPartialDirective.prototype.closeSubscription;
    /** @type {?} */
    SwalPartialDirective.prototype.resolver;
    /** @type {?} */
    SwalPartialDirective.prototype.injector;
    /** @type {?} */
    SwalPartialDirective.prototype.app;
    /** @type {?} */
    SwalPartialDirective.prototype.templateRef;
    /** @type {?} */
    SwalPartialDirective.prototype.swalTargets;
    /** @type {?} */
    SwalPartialDirective.prototype.swalComponent;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dhbC1wYXJ0aWFsLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bzd2VldGFsZXJ0Mi9uZ3gtc3dlZXRhbGVydDIvIiwic291cmNlcyI6WyJzd2FsLXBhcnRpYWwuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0gsY0FBYyxFQUFFLHdCQUF3QixFQUFnQixTQUFTLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQ3hGLFdBQVcsRUFDZCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCakQ7SUFvQkksOEJBQ3FCLFFBQWtDLEVBQ2xDLFFBQWtCLEVBQ2xCLEdBQW1CLEVBQ25CLFdBQTZCLEVBQzdCLFdBQStCLEVBQ3ZCLGFBQTRCO1FBTHBDLGFBQVEsR0FBUixRQUFRLENBQTBCO1FBQ2xDLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsUUFBRyxHQUFILEdBQUcsQ0FBZ0I7UUFDbkIsZ0JBQVcsR0FBWCxXQUFXLENBQWtCO1FBQzdCLGdCQUFXLEdBQVgsV0FBVyxDQUFvQjtRQUN2QixrQkFBYSxHQUFiLGFBQWEsQ0FBZTtJQUN6RCxDQUFDO0lBRUQ7OztPQUdHOzs7Ozs7SUFDSSx1Q0FBUTs7Ozs7SUFBZjtRQUFBLGlCQW9CQztRQW5CRyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLENBQUMsU0FBUyxDQUFDOzs7Z0JBRTNFLFFBQVEsR0FBRyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFOztnQkFDN0UsT0FBTyxHQUFHLEtBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLENBQUM7WUFFM0UsS0FBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRTlELG1EQUFtRDtZQUNuRCxLQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsS0FBSSxDQUFDLFdBQVcsQ0FBQztZQUVyRCwrRUFBK0U7WUFDL0UsS0FBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQyxTQUFTLENBQUM7WUFDdkUsNkRBQTZEO1lBQzdELEtBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRDs7T0FFRzs7Ozs7SUFDSSwwQ0FBVzs7OztJQUFsQjtRQUNJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMxQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDekMsQ0FBQzs7Z0JBN0RKLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsZUFBZTtpQkFDNUI7Ozs7Z0JBdkNtQix3QkFBd0I7Z0JBQWlDLFFBQVE7Z0JBQWpGLGNBQWM7Z0JBQ2QsV0FBVztnQkFHTixrQkFBa0I7Z0JBRWxCLGFBQWEsdUJBeURiLElBQUk7Ozs4QkFoQlIsS0FBSzs7SUFvRFYsMkJBQUM7Q0FBQSxBQTlERCxJQThEQztTQTNEWSxvQkFBb0I7Ozs7Ozs7OztJQU83QiwyQ0FBK0M7Ozs7O0lBSy9DLDBDQUF1RDs7SUFFdkQsc0RBQTZDOztJQUM3QyxpREFBd0M7O0lBR3BDLHdDQUFtRDs7SUFDbkQsd0NBQW1DOztJQUNuQyxtQ0FBb0M7O0lBQ3BDLDJDQUE4Qzs7SUFDOUMsMkNBQWdEOztJQUNoRCw2Q0FBcUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEFwcGxpY2F0aW9uUmVmLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIENvbXBvbmVudFJlZiwgRGlyZWN0aXZlLCBIb3N0LCBJbmplY3RvciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LFxuICAgIFRlbXBsYXRlUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBTd2FsUGFydGlhbFRhcmdldHMgfSBmcm9tICcuL3N3YWwtcGFydGlhbC10YXJnZXRzJztcbmltcG9ydCB7IFN3YWxQYXJ0aWFsQ29tcG9uZW50IH0gZnJvbSAnLi9zd2FsLXBhcnRpYWwuY29tcG9uZW50JztcbmltcG9ydCB7IFN3YWxDb21wb25lbnQgfSBmcm9tICcuL3N3YWwuY29tcG9uZW50JztcblxuLyoqXG4gKiBBIHN0cnVjdHVyYWwgZGlyZWN0aXZlIHRoYXQgbGV0cyB5b3UgdXNlIEFuZ3VsYXIgdGVtcGxhdGVzIGluc2lkZSBvZiBTd2VldCBBbGVydHMuXG4gKiBUaGVyZSBhcmUgZGlmZmVyZW50IHRhcmdldGFibGUgem9uZXMgaW4gYSBTd2VldCBBbGVydDogdGl0bGUsIGNvbnRlbnQsIGNvbmZpcm1CdXR0b24sIGNhbmNlbEJ1dHRvbiwgYnV0dG9uc1dyYXBwZXIuXG4gKiBUaGUgZGVmYXVsdCB0YXJnZXQgaXMgdGhlIGNvbnRlbnQgem9uZS5cbiAqXG4gKiBVc2FnZSBpbiB5b3VyIGNvbXBvbmVudCdzIFR5cGVTY3JpcHQgY29kZS1iZWhpbmQgKGlmIHlvdSB1c2UgYW5vdGhlciB0YXJnZXQgdGhhbiBcImNvbnRlbnRcIik6XG4gKlxuICogICAgIEBDb21wb25lbnQoeyAuLi4gfSlcbiAqICAgICBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQge1xuICogICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHN3YWxUYXJnZXRzOiBTd2FsUGFydGlhbFRhcmdldHMpIHtcbiAqICAgICAgICAgfVxuICogICAgIH1cbiAqXG4gKiBVc2FnZSBpbiB0aGUgdGVtcGxhdGU6XG4gKlxuICogICAgIDxzd2FsIHRpdGxlPVwiRmlsbCB0aGUgZm9ybVwiIChjb25maXJtKT1cImNvbmZpcm1IYW5kbGVyKClcIj5cbiAqICAgICAgICAgPCEtLSBUaGlzIGZvcm0gd2lsbCBiZSBkaXNwbGF5ZWQgYXMgdGhlIGFsZXJ0IG1haW4gY29udGVudFxuICogICAgICAgICAgICAgIFRhcmdldHMgdGhlIGFsZXJ0J3MgbWFpbiBjb250ZW50IHpvbmUgYnkgZGVmYXVsdCAtLT5cbiAqICAgICAgICAgPGZvcm0gKnN3YWxQYXJ0aWFsIFtmb3JtQ29udHJvbF09XCJteUZvcm1cIj5cbiAqICAgICAgICAgICAgIC4uLlxuICogICAgICAgICA8L2Zvcm0+XG4gKlxuICogICAgICAgICA8IS0tIFRoaXMgdGFyZ2V0cyB0aGUgY29uZmlybSBidXR0b24ncyBpbm5lciBjb250ZW50XG4gKiAgICAgICAgICAgICAgTm90aWNlIHRoZSB1c2FnZSBvZiBuZy1jb250YWluZXIgdG8gYXZvaWQgY3JlYXRpbmcgYW4gdXNlbGVzcyBET00gZWxlbWVudCBpbnNpZGUgdGhlIGJ1dHRvbiAtLT5cbiAqICAgICAgICAgPG5nLWNvbnRhaW5lciAqc3dhbFBhcnRpYWw9XCJzd2FsVGFyZ2V0cy5jb25maXJtQnV0dG9uXCI+XG4gKiAgICAgICAgICAgICAgU2VuZCAoe3sgc2Vjb25kc0xlZnQgfX0gc2Vjb25kcyBsZWZ0KVxuICogICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAqICAgICA8c3dhbD5cbiAqL1xuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbc3dhbFBhcnRpYWxdJ1xufSlcbmV4cG9ydCBjbGFzcyBTd2FsUGFydGlhbERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIFwicGFydGlhbCB0YXJnZXRcIiBvciBub3RoaW5nICh3aWxsIHRhcmdldCBtYWluIGNvbnRlbnQgem9uZSBieSBkZWZhdWx0KS5cbiAgICAgKlxuICAgICAqIFNlZSB0aGUge0BsaW5rIFN3YWxQYXJ0aWFsVGFyZ2V0c30gc2VydmljZSB0byBzZWUgdGhlIGF2YWlsYWJsZSB0YXJnZXRzLlxuICAgICAqIFNlZSB0aGUgY2xhc3MgZG9jIGJsb2NrIGZvciBtb3JlIGluZm9ybWF0aW9ucy5cbiAgICAgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgc3dhbFBhcnRpYWw6ICgpID0+IEhUTUxFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgdGhlIGNvbXBvbmVudCByZWZlcmVuY2Ugb2YgdGhlIGNvbnRyb2xsZWQgU3dhbFBhcnRpYWxDb21wb25lbnQgdG8gZGVzdHJveSBpdCB3aGVuIG5vIGxvbmdlciBuZWVkZWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBwYXJ0aWFsUmVmOiBDb21wb25lbnRSZWY8U3dhbFBhcnRpYWxDb21wb25lbnQ+O1xuXG4gICAgcHJpdmF0ZSBiZWZvcmVPcGVuU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBjbG9zZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBpbmplY3RvcjogSW5qZWN0b3IsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXBwOiBBcHBsaWNhdGlvblJlZixcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSB0ZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PixcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBzd2FsVGFyZ2V0czogU3dhbFBhcnRpYWxUYXJnZXRzLFxuICAgICAgICBASG9zdCgpIHByaXZhdGUgcmVhZG9ubHkgc3dhbENvbXBvbmVudDogU3dhbENvbXBvbmVudCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gdGhlIHRoZSBTd2VldCBBbGVydCBhcHBlYXJhbmNlL2Rpc2FwcGVhcmFuY2UgdG8gY3JlYXRlL2Rlc3Ryb3kgdGhlIFN3YWxQYXJ0aWFsQ29tcG9uZW50IHRoYXQgd2lsbFxuICAgICAqIHJlY2VpdmUgdGhlIGNvbnN1bWVyJ3MgdGVtcGxhdGUuXG4gICAgICovXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJlZm9yZU9wZW5TdWJzY3JpcHRpb24gPSB0aGlzLnN3YWxDb21wb25lbnQuYmVmb3JlT3Blbi5hc09ic2VydmFibGUoKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgLy89PiBDcmVhdGUgdGhlIFN3YWxQYXJ0aWFsQ29tcG9uZW50IG9uIHRoZSB0YXJnZXQgRE9NIG5vZGUgaW4gdGhlIFN3ZWV0IEFsZXJ0XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbCA9IHRoaXMuc3dhbFBhcnRpYWwgPyB0aGlzLnN3YWxQYXJ0aWFsKCkgOiB0aGlzLnN3YWxUYXJnZXRzLmNvbnRlbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KFN3YWxQYXJ0aWFsQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy5wYXJ0aWFsUmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5pbmplY3RvciwgW10sIHRhcmdldEVsKTtcblxuICAgICAgICAgICAgLy89PiBBcHBseSB0aGUgY29uc3VtZXIncyB0ZW1wbGF0ZSBvbiB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxSZWYuaW5zdGFuY2UudGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlUmVmO1xuXG4gICAgICAgICAgICAvLz0+IE1ha2UgdGhlIEFuZ3VsYXIgYXBwIGF3YXJlIG9mIHRoYXQgZGV0YWNoZWQgdmlldyBzbyBjaGFuZ2UgZGV0ZWN0aW9uIHdvcmtzXG4gICAgICAgICAgICB0aGlzLmFwcC5hdHRhY2hWaWV3KHRoaXMucGFydGlhbFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2xvc2VTdWJzY3JpcHRpb24gPSB0aGlzLnN3YWxDb21wb25lbnQuY2xvc2UuYXNPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIC8vPT4gRGV0YWNoIHRoZSBwYXJ0aWFsIGNvbXBvbmVudCBmcm9tIHRoZSBhcHAgYW5kIGRlc3Ryb3kgaXRcbiAgICAgICAgICAgIHRoaXMuYXBwLmRldGFjaFZpZXcodGhpcy5wYXJ0aWFsUmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIHRoaXMucGFydGlhbFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlcyBmcm9tIHRoZSBTd2VldCBBbGVydCBhcHBlYXJhbmNlL2Rpc2FwcGVhcmFuY2UuXG4gICAgICovXG4gICAgcHVibGljIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJlZm9yZU9wZW5TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jbG9zZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbiJdfQ==